"use strict";(self.webpackChunkmermaid_viewer=self.webpackChunkmermaid_viewer||[]).push([[352],{5375:function(t,a,e){function n(t,a){var e,n,r;t.accDescr&&(null===(e=a.setAccDescription)||void 0===e||e.call(a,t.accDescr));t.accTitle&&(null===(n=a.setAccTitle)||void 0===n||n.call(a,t.accTitle));t.title&&(null===(r=a.setDiagramTitle)||void 0===r||r.call(a,t.title))}e.d(a,{A:function(){return n}}),(0,e(1025).eW)(n,"populateCommonDb")},9352:function(t,a,e){e.r(a),e.d(a,{diagram:function(){return G}});var n=e(3433),r=e(4165),i=e(5861),c=e(1413),o=e(6680),l=e(5375),s=e(8535),u=e(6699),d=e(1025),v=e(1529),p={showLegend:!0,ticks:5,max:null,min:0,graticule:"circle"},g={axes:[],curves:[],options:p},f=structuredClone(g),h=u.vZ.radar,x=(0,d.eW)((function(){return(0,s.Rb)((0,c.Z)((0,c.Z)({},h),(0,u.iE)().radar))}),"getConfig"),m=(0,d.eW)((function(){return f.axes}),"getAxes"),y=(0,d.eW)((function(){return f.curves}),"getCurves"),w=(0,d.eW)((function(){return f.options}),"getOptions"),b=(0,d.eW)((function(t){f.axes=t.map((function(t){var a;return{name:t.name,label:null!==(a=t.label)&&void 0!==a?a:t.name}}))}),"setAxes"),M=(0,d.eW)((function(t){f.curves=t.map((function(t){var a;return{name:t.name,label:null!==(a=t.label)&&void 0!==a?a:t.name,entries:C(t.entries)}}))}),"setCurves"),C=(0,d.eW)((function(t){if(void 0==t[0].axis)return t.map((function(t){return t.value}));var a=m();if(0===a.length)throw new Error("Axes must be populated before curves for reference entries");return a.map((function(a){var e=t.find((function(t){var e;return(null===(e=t.axis)||void 0===e?void 0:e.$refText)===a.name}));if(void 0===e)throw new Error("Missing entry for axis "+a.label);return e.value}))}),"computeCurveEntries"),W={getAxes:m,getCurves:y,getOptions:w,setAxes:b,setCurves:M,setOptions:(0,d.eW)((function(t){var a,e,n,r,i,c,o,l,s,u,d=t.reduce((function(t,a){return t[a.name]=a,t}),{});f.options={showLegend:null!==(a=null===(e=d.showLegend)||void 0===e?void 0:e.value)&&void 0!==a?a:p.showLegend,ticks:null!==(n=null===(r=d.ticks)||void 0===r?void 0:r.value)&&void 0!==n?n:p.ticks,max:null!==(i=null===(c=d.max)||void 0===c?void 0:c.value)&&void 0!==i?i:p.max,min:null!==(o=null===(l=d.min)||void 0===l?void 0:l.value)&&void 0!==o?o:p.min,graticule:null!==(s=null===(u=d.graticule)||void 0===u?void 0:u.value)&&void 0!==s?s:p.graticule}}),"setOptions"),getConfig:x,clear:(0,d.eW)((function(){(0,u.ZH)(),f=structuredClone(g)}),"clear"),setAccTitle:u.GN,getAccTitle:u.eu,setDiagramTitle:u.g2,getDiagramTitle:u.Kr,getAccDescription:u.Mx,setAccDescription:u.U$},L=(0,d.eW)((function(t){(0,l.A)(t,W);var a=t.axes,e=t.curves,n=t.options;W.setAxes(a),W.setCurves(e),W.setOptions(n)}),"populate"),T={parse:(0,d.eW)(function(){var t=(0,i.Z)((0,r.Z)().mark((function t(a){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.Qc)("radar",a);case 2:e=t.sent,d.cM.debug(e),L(e);case 5:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}(),"parse")},k=(0,d.eW)((function(t,a,e,r){var i,c=r.db,l=c.getAxes(),s=c.getCurves(),u=c.getOptions(),d=c.getConfig(),v=c.getDiagramTitle(),p=(0,o.P)(a),g=A(p,d),f=null!==(i=u.max)&&void 0!==i?i:Math.max.apply(Math,(0,n.Z)(s.map((function(t){return Math.max.apply(Math,(0,n.Z)(t.entries))})))),h=u.min,x=Math.min(d.width,d.height)/2;O(g,l,x,u.ticks,u.graticule),S(g,l,x,d),D(g,l,s,h,f,u.graticule,d),I(g,s,u.showLegend,d),g.append("text").attr("class","radarTitle").text(v).attr("x",0).attr("y",-d.height/2-d.marginTop)}),"draw"),A=(0,d.eW)((function(t,a){var e=a.width+a.marginLeft+a.marginRight,n=a.height+a.marginTop+a.marginBottom,r={x:a.marginLeft+a.width/2,y:a.marginTop+a.height/2};return t.attr("viewbox","0 0 ".concat(e," ").concat(n)).attr("width",e).attr("height",n),t.append("g").attr("transform","translate(".concat(r.x,", ").concat(r.y,")"))}),"drawFrame"),O=(0,d.eW)((function(t,a,e,n,r){if("circle"===r)for(var i=0;i<n;i++){var c=e*(i+1)/n;t.append("circle").attr("r",c).attr("class","radarGraticule")}else if("polygon"===r)for(var o=a.length,l=function(){var r=e*(s+1)/n,i=a.map((function(t,a){var e=2*a*Math.PI/o-Math.PI/2,n=r*Math.cos(e),i=r*Math.sin(e);return"".concat(n,",").concat(i)})).join(" ");t.append("polygon").attr("points",i).attr("class","radarGraticule")},s=0;s<n;s++)l()}),"drawGraticule"),S=(0,d.eW)((function(t,a,e,n){for(var r=a.length,i=0;i<r;i++){var c=a[i].label,o=2*i*Math.PI/r-Math.PI/2;t.append("line").attr("x1",0).attr("y1",0).attr("x2",e*n.axisScaleFactor*Math.cos(o)).attr("y2",e*n.axisScaleFactor*Math.sin(o)).attr("class","radarAxisLine"),t.append("text").text(c).attr("x",e*n.axisLabelFactor*Math.cos(o)).attr("y",e*n.axisLabelFactor*Math.sin(o)).attr("class","radarAxisLabel")}}),"drawAxes");function D(t,a,e,n,r,i,c){var o=a.length,l=Math.min(c.width,c.height)/2;e.forEach((function(a,e){if(a.entries.length===o){var s=a.entries.map((function(t,a){var e=2*Math.PI*a/o-Math.PI/2,i=Z(t,n,r,l);return{x:i*Math.cos(e),y:i*Math.sin(e)}}));"circle"===i?t.append("path").attr("d",E(s,c.curveTension)).attr("class","radarCurve-".concat(e)):"polygon"===i&&t.append("polygon").attr("points",s.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")).attr("class","radarCurve-".concat(e))}}))}function Z(t,a,e,n){return n*(Math.min(Math.max(t,a),e)-a)/(e-a)}function E(t,a){for(var e=t.length,n="M".concat(t[0].x,",").concat(t[0].y),r=0;r<e;r++){var i=t[(r-1+e)%e],c=t[r],o=t[(r+1)%e],l=t[(r+2)%e],s={x:c.x+(o.x-i.x)*a,y:c.y+(o.y-i.y)*a},u={x:o.x-(l.x-c.x)*a,y:o.y-(l.y-c.y)*a};n+=" C".concat(s.x,",").concat(s.y," ").concat(u.x,",").concat(u.y," ").concat(o.x,",").concat(o.y)}return"".concat(n," Z")}function I(t,a,e,n){if(e){var r=3*(n.width/2+n.marginRight)/4,i=3*-(n.height/2+n.marginTop)/4;a.forEach((function(a,e){var n=t.append("g").attr("transform","translate(".concat(r,", ").concat(i+20*e,")"));n.append("rect").attr("width",12).attr("height",12).attr("class","radarLegendBox-".concat(e)),n.append("text").attr("x",16).attr("y",0).attr("class","radarLegendText").text(a.label)}))}}(0,d.eW)(D,"drawCurves"),(0,d.eW)(Z,"relativeRadius"),(0,d.eW)(E,"closedRoundCurve"),(0,d.eW)(I,"drawLegend");var R={draw:k},F=(0,d.eW)((function(t,a){for(var e="",n=0;n<t.THEME_COLOR_LIMIT;n++){var r=t["cScale".concat(n)];e+="\n\t\t.radarCurve-".concat(n," {\n\t\t\tcolor: ").concat(r,";\n\t\t\tfill: ").concat(r,";\n\t\t\tfill-opacity: ").concat(a.curveOpacity,";\n\t\t\tstroke: ").concat(r,";\n\t\t\tstroke-width: ").concat(a.curveStrokeWidth,";\n\t\t}\n\t\t.radarLegendBox-").concat(n," {\n\t\t\tfill: ").concat(r,";\n\t\t\tfill-opacity: ").concat(a.curveOpacity,";\n\t\t\tstroke: ").concat(r,";\n\t\t}\n\t\t")}return e}),"genIndexStyles"),P=(0,d.eW)((function(t){var a=(0,u.xN)(),e=(0,u.iE)(),n=(0,s.Rb)(a,e.themeVariables);return{themeVariables:n,radarOptions:(0,s.Rb)(n.radar,t)}}),"buildRadarStyleOptions"),z=(0,d.eW)((function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).radar,a=P(t),e=a.themeVariables,n=a.radarOptions;return"\n\t.radarTitle {\n\t\tfont-size: ".concat(e.fontSize,";\n\t\tcolor: ").concat(e.titleColor,";\n\t\tdominant-baseline: hanging;\n\t\ttext-anchor: middle;\n\t}\n\t.radarAxisLine {\n\t\tstroke: ").concat(n.axisColor,";\n\t\tstroke-width: ").concat(n.axisStrokeWidth,";\n\t}\n\t.radarAxisLabel {\n\t\tdominant-baseline: middle;\n\t\ttext-anchor: middle;\n\t\tfont-size: ").concat(n.axisLabelFontSize,"px;\n\t\tcolor: ").concat(n.axisColor,";\n\t}\n\t.radarGraticule {\n\t\tfill: ").concat(n.graticuleColor,";\n\t\tfill-opacity: ").concat(n.graticuleOpacity,";\n\t\tstroke: ").concat(n.graticuleColor,";\n\t\tstroke-width: ").concat(n.graticuleStrokeWidth,";\n\t}\n\t.radarLegendText {\n\t\ttext-anchor: start;\n\t\tfont-size: ").concat(n.legendFontSize,"px;\n\t\tdominant-baseline: hanging;\n\t}\n\t").concat(F(e,n),"\n\t")}),"styles"),G={parser:T,db:W,renderer:R,styles:z}}}]);
//# sourceMappingURL=352.b81fb67d.chunk.js.map