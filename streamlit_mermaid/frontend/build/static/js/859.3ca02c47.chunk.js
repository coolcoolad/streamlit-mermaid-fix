"use strict";(self.webpackChunkmermaid_viewer=self.webpackChunkmermaid_viewer||[]).push([[859],{5375:function(e,t,a){function n(e,t){var a,n,r;e.accDescr&&(null===(a=t.setAccDescription)||void 0===a||a.call(t,e.accDescr));e.accTitle&&(null===(n=t.setAccTitle)||void 0===n||n.call(t,e.accTitle));e.title&&(null===(r=t.setDiagramTitle)||void 0===r||r.call(t,e.title))}a.d(t,{A:function(){return n}}),(0,a(1025).eW)(n,"populateCommonDb")},5710:function(e,t,a){a.d(t,{j:function(){return l}});var n=a(6699),r=a(1025),l=(0,r.eW)((function(e,t,a,l){e.attr("class",a);var o=i(e,t),s=o.width,d=o.height,u=o.x,p=o.y;(0,n.v2)(e,d,s,l);var f=c(u,p,s,d,t);e.attr("viewBox",f),r.cM.debug("viewBox configured: ".concat(f," with padding: ").concat(t))}),"setupViewPortForSVG"),i=(0,r.eW)((function(e,t){var a,n=(null===(a=e.node())||void 0===a?void 0:a.getBBox())||{width:0,height:0,x:0,y:0};return{width:n.width+2*t,height:n.height+2*t,x:n.x,y:n.y}}),"calculateDimensionsWithPadding"),c=(0,r.eW)((function(e,t,a,n,r){return"".concat(e-r," ").concat(t-r," ").concat(a," ").concat(n)}),"createViewBox")},3859:function(e,t,a){a.r(t),a.d(t,{diagram:function(){return M}});var n,r=a(4165),l=a(5861),i=a(7762),c=a(1413),o=a(5671),s=a(3144),d=a(6680),u=a(5710),p=a(1727),f=a(5375),h=a(8535),v=a(6699),m=a(1025),y=a(1529),g=a(7901),S=(n=function(){function e(){(0,o.Z)(this,e),this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.setAccTitle=v.GN,this.getAccTitle=v.eu,this.setDiagramTitle=v.g2,this.getDiagramTitle=v.Kr,this.getAccDescription=v.Mx,this.setAccDescription=v.U$}return(0,s.Z)(e,[{key:"getNodes",value:function(){return this.nodes}},{key:"getConfig",value:function(){var e,t=v.vZ,a=(0,v.iE)();return(0,h.Rb)((0,c.Z)((0,c.Z)({},t.treemap),null!==(e=a.treemap)&&void 0!==e?e:{}))}},{key:"addNode",value:function(e,t){var a;(this.nodes.push(e),this.levels.set(e,t),0===t)&&(this.outerNodes.push(e),null!==(a=this.root)&&void 0!==a||(this.root=e))}},{key:"getRoot",value:function(){return{name:"",children:this.outerNodes}}},{key:"addClass",value:function(e,t){var a,n=null!==(a=this.classes.get(e))&&void 0!==a?a:{id:e,styles:[],textStyles:[]},r=t.replace(/\\,/g,"\xa7\xa7\xa7").replace(/,/g,";").replace(/\xa7\xa7\xa7/g,",").split(";");r&&r.forEach((function(e){(0,p.Fh)(e)&&(null!==n&&void 0!==n&&n.textStyles?n.textStyles.push(e):n.textStyles=[e]),null!==n&&void 0!==n&&n.styles?n.styles.push(e):n.styles=[e]})),this.classes.set(e,n)}},{key:"getClasses",value:function(){return this.classes}},{key:"getStylesForClass",value:function(e){var t,a;return null!==(t=null===(a=this.classes.get(e))||void 0===a?void 0:a.styles)&&void 0!==t?t:[]}},{key:"clear",value:function(){(0,v.ZH)(),this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.root=void 0}}]),e}(),(0,m.eW)(n,"TreeMapDB"),n);function x(e){if(!e.length)return[];var t=[],a=[];return e.forEach((function(e){var n={name:e.name,children:"Leaf"===e.type?void 0:[]};for(n.classSelector=null===e||void 0===e?void 0:e.classSelector,null!==e&&void 0!==e&&e.cssCompiledStyles&&(n.cssCompiledStyles=[e.cssCompiledStyles]),"Leaf"===e.type&&void 0!==e.value&&(n.value=e.value);a.length>0&&a[a.length-1].level>=e.level;)a.pop();if(0===a.length)t.push(n);else{var r=a[a.length-1].node;r.children?r.children.push(n):r.children=[n]}"Leaf"!==e.type&&a.push({node:n,level:e.level})})),t}(0,m.eW)(x,"buildHierarchy");var b=(0,m.eW)((function(e,t){var a,n;(0,f.A)(e,t);var r,l=[],c=(0,i.Z)(null!==(a=e.TreemapRows)&&void 0!==a?a:[]);try{for(c.s();!(r=c.n()).done;){var o,s,d=r.value;if("ClassDefStatement"===d.$type)t.addClass(null!==(o=d.className)&&void 0!==o?o:"",null!==(s=d.styleText)&&void 0!==s?s:"")}}catch(L){c.e(L)}finally{c.f()}var u,p=(0,i.Z)(null!==(n=e.TreemapRows)&&void 0!==n?n:[]);try{for(p.s();!(u=p.n()).done;){var h=u.value,v=h.item;if(v){var y=h.indent?parseInt(h.indent):0,g=w(v),S=v.classSelector?t.getStylesForClass(v.classSelector):[],b=S.length>0?S.join(";"):void 0,C={level:y,name:g,type:v.$type,value:v.value,classSelector:v.classSelector,cssCompiledStyles:b};l.push(C)}}}catch(L){p.e(L)}finally{p.f()}var k=x(l),W=(0,m.eW)((function(e,a){var n,r=(0,i.Z)(e);try{for(r.s();!(n=r.n()).done;){var l=n.value;t.addNode(l,a),l.children&&l.children.length>0&&W(l.children,a+1)}}catch(L){r.e(L)}finally{r.f()}}),"addNodesRecursively");W(k,0)}),"populate"),w=(0,m.eW)((function(e){return e.name?String(e.name):""}),"getItemName"),C={parser:{yy:void 0},parse:(0,m.eW)(function(){var e=(0,l.Z)((0,r.Z)().mark((function e(t){var a,n,l,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=y.Qc,e.next=4,n("treemap",t);case 4:if(l=e.sent,m.cM.debug("Treemap AST:",l),(i=null===(a=C.parser)||void 0===a?void 0:a.yy)instanceof S){e.next=9;break}throw new Error("parser.parser?.yy was not a TreemapDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");case 9:b(l,i),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(0),m.cM.error("Error parsing treemap:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),"parse")},k=10,W={draw:(0,m.eW)((function(e,t,a,n){var r,l,i=n.db,c=i.getConfig(),o=null!==(r=c.padding)&&void 0!==r?r:10,s=i.getDiagramTitle(),f=i.getRoot(),h=(0,v.iE)().themeVariables;if(f){var y,S=s?30:0,x=(0,d.P)(t),b=c.nodeWidth?c.nodeWidth*k:960,w=c.nodeHeight?c.nodeHeight*k:500,C=b,W=w+S;x.attr("viewBox","0 0 ".concat(C," ").concat(W)),(0,v.v2)(x,W,C,c.useMaxWidth);try{var L=c.valueFormat||",";if("$0,0"===L)y=(0,m.eW)((function(e){return"$"+(0,g.WUZ)(",")(e)}),"valueFormat");else if(L.startsWith("$")&&L.includes(",")){var T=/\.\d+/.exec(L),M=T?T[0]:"";y=(0,m.eW)((function(e){return"$"+(0,g.WUZ)(","+M)(e)}),"valueFormat")}else if(L.startsWith("$")){var P=L.substring(1);y=(0,m.eW)((function(e){return"$"+(0,g.WUZ)(P||"")(e)}),"valueFormat")}else y=(0,g.WUZ)(L)}catch(R){m.cM.error("Error creating format function:",R),y=(0,g.WUZ)(",")}var z=(0,g.PKp)().range(["transparent",h.cScale0,h.cScale1,h.cScale2,h.cScale3,h.cScale4,h.cScale5,h.cScale6,h.cScale7,h.cScale8,h.cScale9,h.cScale10,h.cScale11]),F=(0,g.PKp)().range(["transparent",h.cScalePeer0,h.cScalePeer1,h.cScalePeer2,h.cScalePeer3,h.cScalePeer4,h.cScalePeer5,h.cScalePeer6,h.cScalePeer7,h.cScalePeer8,h.cScalePeer9,h.cScalePeer10,h.cScalePeer11]),Z=(0,g.PKp)().range([h.cScaleLabel0,h.cScaleLabel1,h.cScaleLabel2,h.cScaleLabel3,h.cScaleLabel4,h.cScaleLabel5,h.cScaleLabel6,h.cScaleLabel7,h.cScaleLabel8,h.cScaleLabel9,h.cScaleLabel10,h.cScaleLabel11]);s&&x.append("text").attr("x",C/2).attr("y",S/2).attr("class","treemapTitle").attr("text-anchor","middle").attr("dominant-baseline","middle").text(s);var N=x.append("g").attr("transform","translate(0, ".concat(S,")")).attr("class","treemapContainer"),D=(0,g.bT9)(f).sum((function(e){var t;return null!==(t=e.value)&&void 0!==t?t:0})).sort((function(e,t){var a,n;return(null!==(a=t.value)&&void 0!==a?a:0)-(null!==(n=e.value)&&void 0!==n?n:0)})),U=(0,g.pNI)().size([b,w]).paddingTop((function(e){return e.children&&e.children.length>0?35:0})).paddingInner(o).paddingLeft((function(e){return e.children&&e.children.length>0?k:0})).paddingRight((function(e){return e.children&&e.children.length>0?k:0})).paddingBottom((function(e){return e.children&&e.children.length>0?k:0})).round(!0)(D),A=U.descendants().filter((function(e){return e.children&&e.children.length>0})),G=N.selectAll(".treemapSection").data(A).enter().append("g").attr("class","treemapSection").attr("transform",(function(e){return"translate(".concat(e.x0,",").concat(e.y0,")")}));G.append("rect").attr("width",(function(e){return e.x1-e.x0})).attr("height",25).attr("class","treemapSectionHeader").attr("fill","none").attr("fill-opacity",.6).attr("stroke-width",.6).attr("style",(function(e){return 0===e.depth?"display: none;":""})),G.append("clipPath").attr("id",(function(e,a){return"clip-section-".concat(t,"-").concat(a)})).append("rect").attr("width",(function(e){return Math.max(0,e.x1-e.x0-12)})).attr("height",25),G.append("rect").attr("width",(function(e){return e.x1-e.x0})).attr("height",(function(e){return e.y1-e.y0})).attr("class",(function(e,t){return"treemapSection section".concat(t)})).attr("fill",(function(e){return z(e.data.name)})).attr("fill-opacity",.6).attr("stroke",(function(e){return F(e.data.name)})).attr("stroke-width",2).attr("stroke-opacity",.4).attr("style",(function(e){if(0===e.depth)return"display: none;";var t=(0,p.UG)({cssCompiledStyles:e.data.cssCompiledStyles});return t.nodeStyles+";"+t.borderStyles.join(";")})),G.append("text").attr("class","treemapSectionLabel").attr("x",6).attr("y",12.5).attr("dominant-baseline","middle").text((function(e){return 0===e.depth?"":e.data.name})).attr("font-weight","bold").attr("style",(function(e){return 0===e.depth?"display: none;":"dominant-baseline: middle; font-size: 12px; fill:"+Z(e.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"+(0,p.UG)({cssCompiledStyles:e.data.cssCompiledStyles}).labelStyles.replace("color:","fill:")})).each((function(e){if(0!==e.depth){var t=(0,g.Ys)(this),a=e.data.name;t.text(a);var n,r=e.x1-e.x0;if(!1!==c.showValues&&e.value){n=r-10-30-10-6}else{n=r-6-6}var l=Math.max(15,n),i=t.node();if(i.getComputedTextLength()>l)for(var o=a;o.length>0;){if(0===(o=a.substring(0,o.length-1)).length){t.text("..."),i.getComputedTextLength()>l&&t.text("");break}if(t.text(o+"..."),i.getComputedTextLength()<=l)break}}})),!1!==c.showValues&&G.append("text").attr("class","treemapSectionValue").attr("x",(function(e){return e.x1-e.x0-10})).attr("y",12.5).attr("text-anchor","end").attr("dominant-baseline","middle").text((function(e){return e.value?y(e.value):""})).attr("font-style","italic").attr("style",(function(e){return 0===e.depth?"display: none;":"text-anchor: end; dominant-baseline: middle; font-size: 10px; fill:"+Z(e.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"+(0,p.UG)({cssCompiledStyles:e.data.cssCompiledStyles}).labelStyles.replace("color:","fill:")}));var V=U.leaves(),B=N.selectAll(".treemapLeafGroup").data(V).enter().append("g").attr("class",(function(e,t){return"treemapNode treemapLeafGroup leaf".concat(t).concat(e.data.classSelector?" ".concat(e.data.classSelector):"","x")})).attr("transform",(function(e){return"translate(".concat(e.x0,",").concat(e.y0,")")}));if(B.append("rect").attr("width",(function(e){return e.x1-e.x0})).attr("height",(function(e){return e.y1-e.y0})).attr("class","treemapLeaf").attr("fill",(function(e){return e.parent?z(e.parent.data.name):z(e.data.name)})).attr("style",(function(e){return(0,p.UG)({cssCompiledStyles:e.data.cssCompiledStyles}).nodeStyles})).attr("fill-opacity",.3).attr("stroke",(function(e){return e.parent?z(e.parent.data.name):z(e.data.name)})).attr("stroke-width",3),B.append("clipPath").attr("id",(function(e,a){return"clip-".concat(t,"-").concat(a)})).append("rect").attr("width",(function(e){return Math.max(0,e.x1-e.x0-4)})).attr("height",(function(e){return Math.max(0,e.y1-e.y0-4)})),B.append("text").attr("class","treemapLabel").attr("x",(function(e){return(e.x1-e.x0)/2})).attr("y",(function(e){return(e.y1-e.y0)/2})).attr("style",(function(e){return"text-anchor: middle; dominant-baseline: middle; font-size: 38px;fill:"+Z(e.data.name)+";"+(0,p.UG)({cssCompiledStyles:e.data.cssCompiledStyles}).labelStyles.replace("color:","fill:")})).attr("clip-path",(function(e,a){return"url(#clip-".concat(t,"-").concat(a,")")})).text((function(e){return e.data.name})).each((function(e){var t=(0,g.Ys)(this),a=e.x1-e.x0,n=e.y1-e.y0,r=t.node(),l=a-8,i=n-8;if(l<10||i<10)t.style("display","none");else{for(var c=parseInt(t.style("font-size"),10);r.getComputedTextLength()>l&&c>8;)c--,t.style("font-size","".concat(c,"px"));for(var o=Math.max(6,Math.min(28,Math.round(.6*c))),s=c+2+o;s>i&&c>8&&(c--,!((o=Math.max(6,Math.min(28,Math.round(.6*c))))<6&&8===c));)t.style("font-size","".concat(c,"px")),s=c+2+o;t.style("font-size","".concat(c,"px")),(r.getComputedTextLength()>l||c<8||i<c)&&t.style("display","none")}})),!1!==c.showValues)B.append("text").attr("class","treemapValue").attr("x",(function(e){return(e.x1-e.x0)/2})).attr("y",(function(e){return(e.y1-e.y0)/2})).attr("style",(function(e){return"text-anchor: middle; dominant-baseline: hanging; font-size: 28px;fill:"+Z(e.data.name)+";"+(0,p.UG)({cssCompiledStyles:e.data.cssCompiledStyles}).labelStyles.replace("color:","fill:")})).attr("clip-path",(function(e,a){return"url(#clip-".concat(t,"-").concat(a,")")})).text((function(e){return e.value?y(e.value):""})).each((function(e){var t=(0,g.Ys)(this),a=this.parentNode;if(a){var n=(0,g.Ys)(a).select(".treemapLabel");if(n.empty()||"none"===n.style("display"))t.style("display","none");else{var r=parseFloat(n.style("font-size")),l=Math.max(6,Math.min(28,Math.round(.6*r)));t.style("font-size","".concat(l,"px"));var i=(e.y1-e.y0)/2+r/2+2;t.attr("y",i);var c=e.x1-e.x0,o=e.y1-e.y0-4,s=c-8;t.node().getComputedTextLength()>s||i+l>o||l<6?t.style("display","none"):t.style("display",null)}}else t.style("display","none")}));var $=null!==(l=c.diagramPadding)&&void 0!==l?l:8;(0,u.j)(x,$,"flowchart",(null===c||void 0===c?void 0:c.useMaxWidth)||!1)}}),"draw"),getClasses:(0,m.eW)((function(e,t){return t.db.getClasses()}),"getClasses")},L={sectionStrokeColor:"black",sectionStrokeWidth:"1",sectionFillColor:"#efefef",leafStrokeColor:"black",leafStrokeWidth:"1",leafFillColor:"#efefef",labelColor:"black",labelFontSize:"12px",valueFontSize:"10px",valueColor:"black",titleColor:"black",titleFontSize:"14px"},T=(0,m.eW)((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).treemap,t=(0,h.Rb)(L,e);return"\n  .treemapNode.section {\n    stroke: ".concat(t.sectionStrokeColor,";\n    stroke-width: ").concat(t.sectionStrokeWidth,";\n    fill: ").concat(t.sectionFillColor,";\n  }\n  .treemapNode.leaf {\n    stroke: ").concat(t.leafStrokeColor,";\n    stroke-width: ").concat(t.leafStrokeWidth,";\n    fill: ").concat(t.leafFillColor,";\n  }\n  .treemapLabel {\n    fill: ").concat(t.labelColor,";\n    font-size: ").concat(t.labelFontSize,";\n  }\n  .treemapValue {\n    fill: ").concat(t.valueColor,";\n    font-size: ").concat(t.valueFontSize,";\n  }\n  .treemapTitle {\n    fill: ").concat(t.titleColor,";\n    font-size: ").concat(t.titleFontSize,";\n  }\n  ")}),"getStyles"),M={parser:C,get db(){return new S},renderer:W,styles:T}}}]);
//# sourceMappingURL=859.3ca02c47.chunk.js.map